/*
 *  Copyright 2014 TWO SIGMA OPEN SOURCE, LLC
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

.base-theme {
  ::-webkit-scrollbar {
    width: $scrollbar-width;
    height: $scrollbar-width;
  }

  ::-webkit-scrollbar-track-piece {
    background-color: $std-btn-bg;
  }

  body, html, .well, .languages, .code-cell-input, .modal-header, .modal-body, .modal-footer, .row {
    background: $main-theme-panel-background !important;
    color: $std-fg-color !important;
    .close {
      color: $std-fg-color !important;
    }
    h1, h2, h3, h4, h5, h6, p {
      color: $std-fg-color !important;
      cursor: $text-cursor;
    }
  }

  $cm-search-mark-all-color:  #2060f0;
  $cm-search-mark-color:      #F26D00;
  
  .search-find-all-selected-background{
    background-color: $cm-search-mark-all-color;
  }
  
  .search-selected-background{
    background-color: $cm-search-mark-color;
  }

  header {
    .navbar-left {
      color: $std-fg-color !important;
    }
    .navbar-inverse .navbar-text {
      background-color: $navbar-inverse-bg !important;
    }
    .fa.fa-refresh {
      color: $std-fg-color !important;
    }
  }

  header .navbar-brand-fill {
    fill: $std-fg-color;
  }

  .panel-primary {
    border-color: $std-border;
    .panel-body {
      background: $main-theme-panel-background !important;
    }
    .panel-heading {
      background: $std-btn-bg !important;
      border-color: $std-border;
      .panel-title {
        background: $std-btn-bg !important;
      }
    }
  }

  a {
    color: $std-link-color;
    &:hover {
      color: $std-hover-bg;
    }
  }

  blockquote {
    border-left-color: $std-btn-bg;
  }

  textarea, .publish input.field, .publish select, .publish textarea {
    border-color: $cell-border;
    background: $std-bg-color !important;
    color: $std-fg-color !important;
  }

  button, .btn, .btn-default {
    background: $std-btn-bg;
    color: $std-fg-color;
    border-color: $std-border;
    cursor: pointer;
    &:hover {
      color: $std-fg-color;
      background: $std-hover-bg;
      border-color: $std-hover-border;
    }
  }

  .modal-body.error-title {
    background-color: $btn-danger-bkg !important;
  }

  .modal-content .btn-primary {
    background: $primary-btn-bg;
    &:hover {
      background: $std-hover-bg;
      border-color: $std-hover-border;
    }
  }

  .modal-open.has-scroll {
    margin-right: $scrollbar-width;
  }

  button.close {
    background: transparent;
    border: 0;
    text-shadow: 0 1px 0 #000;
    opacity: 0.5;
    &:hover {
      background: transparent;
      border: 0;
      opacity: 0.7;
    }
  }

  .btn-danger {
    background-color: $btn-danger-bkg;
    border-color: $btn-danger-bkg;
  }

  .notebook-link {
    color: $notebook-link-color;
  }

  input, select {
    background-color: $std-bg-color;
    background-image: none;
  }

  input {
    color: $main-theme-color;
  }

  input, textarea {
    cursor: $text-cursor;
  }

  select {
    color: $std-fg-color;
  }

  .bko-glyphicon {
    color: $std-fg-color;
  }

  .faux-drop-zone {
    border-color: $std-fg-color;
    color: $std-fg-color;
    cursor: $text-cursor;
  }

  .path, .open-date, em, span.text {
    cursor: $text-cursor;
  }

  .edited-property {
    background-color: $btn-danger-bkg !important;
  }

  .ui-icon,
  .ui-widget-content .ui-icon {
    background-image: $ui-icons;
  }

  .ui-widget-content {
    background-image: none;
    background-color: $std-bg-color;
    color: $std-fg-color;
  }

  .ui-widget-content > li > a {
    color: $std-fg-color;
  }

  .ui-state-focus {
    background: $navbar-default-link-hover-bg none;
    border-color: $std-hover-border;
  }

  .cell-power-button {
    color: #d8d8d8;
    background-color: $main-theme-panel-background;

    .fa-power-off:before {
      background-color: $main-theme-panel-background;
    }
    .fa-power-off:hover::before {
      background-color: $navbar-default-link-hover-bg;
    }
  }

  bk-output-display {
    > div:nth-of-type(1) {
      background: $main-theme-panel-background;
      color: $std-fg-color;
    }

    .output_subarea pre {
      color: $std-fg-color !important;
    }

    .progress {
      background-color: $std-btn-bg;
    }
  }

  .text-info {
    color: $std-out-color;
  }

  .text-warning, .text-danger {
    color: $std-err-color !important;
  }

  bk-markdown-editable, .code-cell-output {
    background: $main-theme-panel-background !important;
    color: $std-fg-color;
  }

  bk-markdown-cell bk-markdown-editable, .bkcell.code-cell-area, .textcell-wrapper {
    border-color: $cell-border;
  }

  .locked {
    bk-markdown-cell bk-markdown-editable, .bkcell.code-cell-area, .textcell-wrapper, bk-code-cell .code-cell-output {
      border: none;
    }
  }

  .code-cell-area .code-cell-output {
    border-top-color: $cell-border;
  }

  .code-cell-area .code-cell-output.error {
    border-color: $std-err-color;
  }

  .code-cell-output.error > h6 {
    color: $std-err-color !important;
  }

  bk-output-display pre {
    color: $std-fg-color;
  }

  pre.out_error, bk-output-display[type='Error'] pre {
    color: $std-err-color;
  }

  bk-markdown-editable code {
    background-color: $std-btn-bg;
    color: $std-fg-color;
  }

  .markup p {
    cursor: $text-cursor;
  }

  text {
    cursor: $text-cursor;
  }

  #plotTitle {
    cursor: $text-cursor;
  }

  bk-output-display[type="Text"] {
    cursor: $text-cursor;
  }
  bk-output-display[type="Html"] {
    p, span, li, h1, h2, h3, h4, h5, h6 {
      cursor: $text-cursor;
    }
  }

  .plot-plotcontainer {
    background: #1a1a1a;
  }

  .plot-coverbox {
    fill: $main-theme-panel-background;
  }

  .plot-label, .plot-xylabel, .plot-text, .plot-legend text, #maing text, .plot-legend-histogram, .legend-pointer {
    fill: $std-fg-color !important;
  }

  .plot-gridline {
    stroke: #787878;
  }

  .text-line-style {
    fill: white;
    stroke: white
  }

  .plot-tooltip {
    background-color: $std-bg-color;
  }

  .plot-legendscrollablecontainer {
    border-color: $cell-border;
  }

  .plot-legend-histogram, .plot-legend-axis, .plot-legend-tick {
    stroke: $std-fg-color;
  }

  .legend-pointer {
    stroke: $cell-border;
  }

  .combplot-plotcontainer, #plotLegend, #plotLegendContainer {
    background: $main-theme-panel-background;
  }

  .mini-cell-stats {
    z-index: 1;
    cursor: $text-cursor;
  }

  .loading-state {
    color: $std-fg-color;
  }

  .toggle-menu:not(.wide) {
    background: rgba($main-theme-panel-background, 0.5);
  }

  .dataTables_length {
    & label {
      color: $std-fg-color;
    }
    & select {
      color: $std-fg-color;
    }
  }

  .outputlogcontainer {
    color: $std-fg-color;
    background-color: $std-bg-color;

    .outputloghandle {
      background: linear-gradient($main-theme-panel-background, $cell-border, $main-theme-panel-background);
    }

    .outputlogbox pre {
      color: $std-fg-color !important;
      cursor: $text-cursor;
    }

    .btn-group .btn-primary {
      color: $std-fg-color;
      background-color: $primary-btn-bg;
      &:hover {
        background-color: $std-hover-bg;
        border-color: $std-hover-border;
      }
    }
  }

  .searchreplace-container {
    color: $std-fg-color;
    background-color: $std-bg-color;
    border-color: $cell-border;
  }
  
  //datatable

  .dataTable, table.dataTable thead th {
    color: $std-fg-color;
  }

  .dataTable, td {
    cursor: $text-cursor;
  }

  .dataTables_wrapper .dataTables_paginate .paginate_button {
    color: $std-fg-color !important;
  }

  .dataTables_wrapper .dataTables_length,
  .dataTables_wrapper .dataTables_filter,
  .dataTables_wrapper .dataTables_info,
  .dataTables_wrapper .dataTables_processing,
  .dataTables_wrapper .dataTables_paginate {
    color: $std-fg-color;
  }

  .dataTables_wrapper .dataTables_paginate .paginate_button.disabled,
  .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover,
  .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:active {
    color: $std-fg-color !important;
    background: transparent;
  }

  .dataTables_wrapper .dataTables_paginate .paginate_button.current,
  .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    color: #595959 !important;
    border-color: $cell-border;
    background: linear-gradient(to bottom, $std-fg-color 0%, $std-btn-bg 100%);
  }

  table.dataTable thead .sorting {
    background-image: url("../../images/sort_both_gray.png");
  }

  table.dataTable.display tbody tr.odd > .sorting_1,
  table.dataTable.order-column.stripe tbody tr.odd > .sorting_1 {
    background-color: $main-theme-panel-background;
  }

  table.dataTable.display tbody tr.odd > .sorting_2,
  table.dataTable.order-column.stripe tbody tr.odd > .sorting_2 {
    background-color: #333333;
  }

  table.dataTable.display tbody tr.odd > .sorting_3,
  table.dataTable.order-column.stripe tbody tr.odd > .sorting_3 {
    background-color: #262626;
  }

  table.dataTable.display tbody tr.even > .sorting_1,
  table.dataTable.order-column.stripe tbody tr.even > .sorting_1 {
    background-color: #303030;
  }

  table.dataTable.display tbody tr.even > .sorting_2,
  table.dataTable.order-column.stripe tbody tr.even > .sorting_2 {
    background-color: #666666;
  }

  table.dataTable.display tbody tr.even > .sorting_3,
  table.dataTable.order-column.stripe tbody tr.even > .sorting_3 {
    background-color: #595959;
  }

  table.dataTable.stripe tbody tr.odd,
  table.dataTable.display tbody tr.odd {
    background-color: $main-theme-panel-background;
  }

  table.dataTable.stripe tbody tr.even,
  table.dataTable.display tbody tr.even {
    background-color: #303030;
  }

  table.dataTable tbody tr.selected,
  table.dataTable tbody tr.selected > .sorting_1,
  table.dataTable tbody tr.selected > .sorting_2,
  table.dataTable tbody tr.selected > .sorting_3 {
    background-color: #435d72 !important;
  }

  table.dataTable thead {
    background-color: $std-btn-bg;
  }

  table.dataTable.hover tbody tr:hover,
  table.dataTable.display tbody tr:hover,
  table.dataTable.hover tbody tr.hover,
  table.dataTable.display tbody tr.hover {
    background-color: $std-hover-bg !important;
  }

  //dropdown menu

  .dropdown-menu {
    background-color: $std-bg-color;
    > .dropdown-menu-search {
      input {
        border-color: $std-fg-color;
      }
      i {
        color: $std-fg-color;
      }
    }
  }

  .dropdown-menu > li > a {
    color: $std-fg-color;
    &:hover + .glyphicon-ok, &:hover + .fa-check {
      color: $std-fg-color;
    }
  }

  #start-page-menu-item {
    border-color: $cell-border;
  }

  .menu-separator {
    border-color: $cell-border;
  }

  // Default navbar

  .navbar-default {
    background-color: $std-bg-color;
    border-color: $navbar-default-border;

    .navbar-brand {
      color: $navbar-default-brand-color;
      &:hover,
      &:focus {
        color: $navbar-default-brand-hover-color;
        background-color: $navbar-default-brand-hover-bg;
      }
    }

    .navbar-text {
      background-color: $std-bg-color !important;
    }

    .navbar-nav {
      > li > a {
        color: $std-fg-color;
        &:hover,
        &:focus {
          color: $std-fg-color;
          background-color: $navbar-default-link-hover-bg;
        }
      }
      > .active > a {
        &,
        &:hover,
        &:focus {
          color: $navbar-default-link-active-color;
          background-color: $navbar-default-link-active-bg;
        }
      }
      > .disabled > a {
        &,
        &:hover,
        &:focus {
          color: $navbar-default-link-disabled-color;
          background-color: $navbar-default-link-disabled-bg;
        }
      }
    }
  }

  .nav-tabs {
    border-bottom-color: $cell-border;

    > li > a:hover, .uib-tab > div:hover {
      border-color: $std-hover-border;
      border-bottom-color: transparent;
      background-color: $navbar-default-link-active-bg;
      color: $std-fg-color;
    }

    > li.active > a, .uib-tab.active > div {
      border-color: $cell-border;
      border-bottom-color: transparent;
      background-color: $main-theme-panel-background;
      color: $std-fg-color;
    }

    .uib-tab > div {
      color: $std-link-color;
    }
  }

  //checkbox, radio

  input[type="checkbox"], input[type="radio"] {
    visibility: hidden;
  }

  input[type="checkbox"] ~ label:after,
  input[type="radio"] ~ label:after {
    content: "";
    width: 13px;
    height: 13px;
    position: absolute;
    background-color: $std-btn-bg;
    border: 1px solid $cell-border;
    opacity: 1;
  }
  input[type="checkbox"] ~ label:after {
    border-radius: 2px;
    margin-left: 5px;
  }
  input[type="radio"] ~ label:after {
    border-radius: 50%;
    top: 2px;
    left: 0;
  }
  input.beforeCheckbox ~ label:after {
    left: 5px;
    margin: 0;
  }

  input.plot-legendcheckbox.beforeCheckbox ~ label {
    margin: 3px;
  }
  input.plot-legendcheckbox.beforeCheckbox ~ span {
    margin-left: 10px;
  }

  input.paginationOption ~ label:after {
    right: -20px;
  }

  input[type="checkbox"]:checked ~ label:after,
  input[type="radio"]:checked + label:after {
    text-shadow: 1px 1px 1px rgba(0, 0, 0, .2);
    color: $std-fg-color;
    text-align: center;
    font-size: 14px;
    font-weight: normal;
    line-height: 14px;
    background-color: $ef-active-control-bg;
  }
  input[type="checkbox"]:checked ~ label:after {
    content: "\2713";
  }
  input[type="radio"]:checked + label:after {
    content: "\2022";
  }
  input[type="checkbox"] ~ label:hover::after, input[type="radio"] ~ label:hover::after {
    opacity: 0.7;
  }
  input[type="checkbox"] ~ label, input[type="radio"] + label {
    display: inline-block;
    margin: 0 10px 0 5px;
  }

  //easy-form

  .easy-form-container {
    legend, label, input {
      color: $std-fg-color;
    }

    fieldset, input, textarea, select, .custom-combobox-toggle {
      border-color: $cell-border;
    }

    .custom-combobox-toggle {
      background-color: $cell-border;
    }

    .check-box-group-item-label:after {
      left: 0;
    }
    input.check-box + label:after {
      right: -18px;
    }

    easy-form-check-box label {
      position: relative;
    }
  }

  //CodeMirror
  .CodeMirror-selected {
    background: $cm-selection-color;
  }
  .CodeMirror-focused .CodeMirror-selected {
    background: $cm-selection-color;
  }
  .CodeMirror ::selection {
    background-color: $cm-selection-color;
  }
  .CodeMirror ::-moz-selection {
    background-color: $cm-selection-color;
  }

  .CodeMirror-gutters {
    background-color: $main-theme-panel-background;
    border: none;
    box-shadow: none;
  }

  .CodeMirror-linenumbers, .CodeMirror-linenumber {
    color: $cell-border;
  }

  .CodeMirror-fullscreen {
    background: $main-theme-panel-background !important;
  }

  .CodeMirror .cm-comment {
    color: $std-fg-color;
  }

  .CodeMirror-simplescroll-horizontal, .CodeMirror-simplescroll-vertical {
    background: $std-btn-bg;
  }

  .CodeMirror-hints, .bkcelltooltip {
    background-color: $std-bg-color;
    color: $std-fg-color;
    border-color: $cell-border;
  }

  .CodeMirror-hint {
    color: $std-fg-color;
  }

  .CodeMirror-lines {
    cursor: $text-cursor;
  }

  li.CodeMirror-hint-active {
    background: $navbar-default-link-active-bg;
    color: $std-fg-color;
  }

  .cm-header {
    color: $markdown-heading-color;
  }

  .marked-argument-unchanged {
    box-shadow: $marked-argument-unchanged-border;
    color: $marked-argument-unchanged-color;
    font-style: italic;
  }

  .marked-argument-changed {
    box-shadow: $marked-argument-changed-border;
  }

  .ui-select-container {
    background-color: $std-bg-color;
  }

  .ui-select-choices a span {
    color: $std-fg-color;
  }

  .ui-select-choices-row a:hover {
    background-color: $std-border;
  }

  .elfinder .elfinder-navbar {
    background: $std-bg-color !important;
  }

  .elfinder-navbar .ui-state-hover,
  .elfinder-cwd table tr.ui-state-hover {
    background-image: none !important;
    color: $navbar-default-link-hover-color;
    background-color: $std-hover-bg !important;
    border-color: $std-hover-border !important;
  }
  .elfinder-navbar .ui-state-active,
  .elfinder-cwd table td.ui-state-hover {
    background-image: none !important;
    background: #435d72;
    border-color:$std-hover-border;
  }

  .elfinder-cwd table tr:nth-child(odd) {
    background-color: $main-theme-panel-background;
  }

  .elfinder .ui-state-default,
  .elfinder .ui-widget-content .ui-state-default,
  .elfinder .ui-widget-header .ui-state-default {
    color: $std-fg-color;
  }

  .elfinder .elfinder-cwd table thead td {
    background-color: $std-btn-bg;
    color: $std-fg-color;
    .ui-state-active {
      background-color: $main-theme-panel-background;
    }

  }
  .elfinder .elfinder-cwd table thead td.ui-state-active {
    background: $std-fg-color;
    background: -moz-linear-gradient(top, $std-fg-color 0%, $cell-border 50%, $std-border 51%, $std-bg-color 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, $std-fg-color), color-stop(50%, $cell-border), color-stop(51%, $std-border), color-stop(100%, $std-bg-color));
    background: -webkit-linear-gradient(top, $std-fg-color 0%, $cell-border 50%, $std-border 51%, $std-bg-color 100%);
    background: -o-linear-gradient(top, $std-fg-color 0%, $cell-border 50%, $std-border 51%, $std-bg-color 100%);
    background: -ms-linear-gradient(top, $std-fg-color 0%, $cell-border 50%, $std-border 51%, $std-bg-color 100%);
    background: linear-gradient(to bottom, $std-fg-color 0%, $cell-border 50%, $std-border 51%, $std-bg-color 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='$std-fg-color', endColorstr='$std-bg-color', GradientType=0);
  }

}


